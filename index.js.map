{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = '48661000-87492d5612d6e41eb1a42ef3d';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport async function fetchImages(query) {\n  try {\n    const response = await axios.get(BASE_URL, {\n      params: {\n        key: API_KEY,\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n      },\n    });\n\n    return response.data.hits;\n  } catch (error) {\n    console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö:', error);\n    return [];\n  }\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport { fetchImages } from \"/js/pixabay-api.js\";\n\nconst gallery = document.querySelector(\".gallery\");\nconst form = document.querySelector(\".search-form\");\n\nconst lightbox = new SimpleLightbox(\".gallery a\", {\n  captionsData: \"alt\",\n  captionDelay: 250,\n});\n\nform.addEventListener(\"submit\", async event => {\n  event.preventDefault();\n\n  const query = event.target.elements.searchQuery.value.trim();\n  if (!query) {\n    iziToast.warning({\n      title: \"–û—à–∏–±–∫–∞\",\n      message: \"–í–≤–µ–¥–∏—Ç–µ —Å–ª–æ–≤–æ –¥–ª—è –ø–æ–∏—Å–∫–∞!\",\n      position: \"topRight\",\n    });\n    return;\n  }\n\n  try {\n    const images = await fetchImages(query);\n    renderImages(images);\n  } catch (error) {\n    iziToast.error({\n      title: \"–û—à–∏–±–∫–∞\",\n      message: \"–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â—ë —Ä–∞–∑.\",\n      position: \"topRight\",\n    });\n  }\n});\n\nexport function renderImages(images) {\n  gallery.innerHTML = \"\"; // –û—á–∏—â–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â–∏–π –ø–æ–∏—Å–∫\n\n  if (images.length === 0) {\n    showErrorMessage();\n    return;\n  }\n\n  const markup = images\n    .map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => `\n      <div class=\"gallery-item\">\n        <a href=\"${largeImageURL}\" target=\"_blank\">\n          <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n        </a>\n        <div class=\"image-info\">\n          <p><strong>‚ù§Ô∏è ${likes}</strong></p>\n          <p><strong>üëÅÔ∏è ${views}</strong></p>\n          <p><strong>üí¨ ${comments}</strong></p>\n          <p><strong>‚¨áÔ∏è ${downloads}</strong></p>\n        </div>\n      </div>\n    `)\n    .join(\"\");\n\n  gallery.innerHTML = markup;\n  lightbox.refresh(); // –û–±–Ω–æ–≤–ª—è–µ–º SimpleLightbox –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π\n}\n\nexport function showErrorMessage() {\n  gallery.innerHTML = `\n    <p class=\"error-message\">\n      Sorry, –Ω–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö –≤–∞—à–µ–º—É –∑–∞–ø—Ä–æ—Å—É. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞!\n    </p>\n  `;\n}\n","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport { fetchImages } from \"/js/pixabay-api.js\";\nimport { renderImages } from \"/js/render-functions.js\";\n\n// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞\nfunction showLoading() {\n  const loadingOverlay = document.getElementById(\"loading-overlay\");\n  loadingOverlay.classList.add(\"show\"); // –î–æ–±–∞–≤–ª—è–µ–º –∫–ª–∞—Å—Å –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è\n}\n\n// –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–∫—Ä—ã—Ç–∏—è –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞\nfunction hideLoading() {\n  const loadingOverlay = document.getElementById(\"loading-overlay\");\n  loadingOverlay.classList.remove(\"show\"); // –£–±–∏—Ä–∞–µ–º –∫–ª–∞—Å—Å –¥–ª—è —Å–∫—Ä—ã—Ç–∏—è\n}\n\nconst form = document.querySelector(\".search-form\");\n\nform.addEventListener(\"submit\", async event => {\n  event.preventDefault();\n\n  const query = event.target.elements.searchQuery.value.trim();\n  if (!query) {\n    iziToast.warning({\n      title: \"–û—à–∏–±–∫–∞\",\n      message: \"–í–≤–µ–¥–∏—Ç–µ —Å–ª–æ–≤–æ –¥–ª—è –ø–æ–∏—Å–∫–∞!\",\n      position: \"topRight\",\n    });\n    return;\n  }\n\n  // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Ñ–æ—Ä–º—ã\n  showLoading();\n\n  try {\n    const images = await fetchImages(query); // –ó–∞–ø—Ä–æ—Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π\n    renderImages(images); // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π\n  } catch (error) {\n    iziToast.error({\n      title: \"–û—à–∏–±–∫–∞\",\n      message: \"–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â—ë —Ä–∞–∑.\",\n      position: \"topRight\",\n    });\n  } finally {\n    // –°–∫—Ä—ã–≤–∞–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞\n    hideLoading();\n  }\n});\n"],"names":["API_KEY","BASE_URL","fetchImages","query","axios","error","gallery","form","lightbox","SimpleLightbox","event","iziToast","images","renderImages","showErrorMessage","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","showLoading","hideLoading"],"mappings":"owBAEA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,eAAeC,EAAYC,EAAO,CACvC,GAAI,CAWF,OAViB,MAAMC,EAAM,IAAIH,EAAU,CACzC,OAAQ,CACN,IAAKD,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACb,CACP,CAAK,GAEe,KAAK,IACtB,OAAQE,EAAO,CACd,eAAQ,MAAM,+BAAgCA,CAAK,EAC5C,EACR,CACH,CCdA,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAO,SAAS,cAAc,cAAc,EAE5CC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAChB,CAAC,EAEDF,EAAK,iBAAiB,SAAU,MAAMG,GAAS,CAC7CA,EAAM,eAAc,EAEpB,MAAMP,EAAQO,EAAM,OAAO,SAAS,YAAY,MAAM,OACtD,GAAI,CAACP,EAAO,CACVQ,EAAS,QAAQ,CACf,MAAO,SACP,QAAS,4BACT,SAAU,UAChB,CAAK,EACD,MACD,CAED,GAAI,CACF,MAAMC,EAAS,MAAMV,EAAYC,CAAK,EACtCU,EAAaD,CAAM,CACpB,MAAe,CACdD,EAAS,MAAM,CACb,MAAO,SACP,QAAS,wDACT,SAAU,UAChB,CAAK,CACF,CACH,CAAC,EAEM,SAASE,EAAaD,EAAQ,CAGnC,GAFAN,EAAQ,UAAY,GAEhBM,EAAO,SAAW,EAAG,CACvBE,IACA,MACD,CAED,MAAMC,EAASH,EACZ,IAAI,CAAC,CAAE,aAAAI,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAAO;AAAA;AAAA,mBAEpEL,CAAa;AAAA,sBACVD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,0BAGtBC,CAAK;AAAA,2BACJC,CAAK;AAAA,0BACNC,CAAQ;AAAA,0BACRC,CAAS;AAAA;AAAA;AAAA,KAG9B,EACA,KAAK,EAAE,EAEVhB,EAAQ,UAAYS,EACpBP,EAAS,QAAO,CAClB,CAEO,SAASM,GAAmB,CACjCR,EAAQ,UAAY;AAAA;AAAA;AAAA;AAAA,GAKtB,CCpEA,SAASiB,GAAc,CACE,SAAS,eAAe,iBAAiB,EACjD,UAAU,IAAI,MAAM,CACrC,CAGA,SAASC,GAAc,CACE,SAAS,eAAe,iBAAiB,EACjD,UAAU,OAAO,MAAM,CACxC,CAEA,MAAMjB,EAAO,SAAS,cAAc,cAAc,EAElDA,EAAK,iBAAiB,SAAU,MAAMG,GAAS,CAC7CA,EAAM,eAAc,EAEpB,MAAMP,EAAQO,EAAM,OAAO,SAAS,YAAY,MAAM,OACtD,GAAI,CAACP,EAAO,CACVQ,EAAS,QAAQ,CACf,MAAO,SACP,QAAS,4BACT,SAAU,UAChB,CAAK,EACD,MACD,CAGDY,IAEA,GAAI,CACF,MAAMX,EAAS,MAAMV,EAAYC,CAAK,EACtCU,EAAaD,CAAM,CACpB,MAAe,CACdD,EAAS,MAAM,CACb,MAAO,SACP,QAAS,wDACT,SAAU,UAChB,CAAK,CACL,QAAY,CAERa,GACD,CACH,CAAC"}