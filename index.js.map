{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = '48661000-87492d5612d6e41eb1a42ef3d';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport async function fetchImages(query) {\n  try {\n    const response = await axios.get(BASE_URL, {\n      params: {\n        key: API_KEY,\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n      },\n    });\n\n    // –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ø–µ—à–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞\n    if (response.status === 200) {\n      // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –¥–∞–Ω–Ω—ã—Ö\n      if (response.data.hits.length === 0) {\n        console.warn('–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω—ã');\n        return [];\n      }\n      return response.data.hits;\n    } else {\n      console.error('–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ, —Å—Ç–∞—Ç—É—Å:', response.status);\n      return [];\n    }\n  } catch (error) {\n    console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö:', error);\n    return [];\n  }\n}\n","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport { fetchImages } from \"/js/pixabay-api.js\";\n\nconst gallery = document.querySelector(\".gallery\");\nconst form = document.querySelector(\".search-form\");\n\nconst lightbox = new SimpleLightbox(\".gallery a\", {\n  captionsData: \"alt\",\n  captionDelay: 250,\n});\n\nform.addEventListener(\"submit\", async event => {\n  event.preventDefault();\n\n  const query = event.target.elements.searchQuery.value.trim();\n  if (!query) {\n    iziToast.warning({\n      title: \"–û—à–∏–±–∫–∞\",\n      message: \"–í–≤–µ–¥–∏—Ç–µ —Å–ª–æ–≤–æ –¥–ª—è –ø–æ–∏—Å–∫–∞!\",\n      position: \"topRight\",\n    });\n    return;\n  }\n\n  try {\n    const images = await fetchImages(query);\n\n    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π\n    if (images.length === 0) {\n      showErrorMessage(\"–ò–∑–≤–∏–Ω–∏—Ç–µ, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –Ω–µ –Ω–∞–π–¥–µ–Ω–æ –ø–æ –≤–∞—à–µ–º—É –∑–∞–ø—Ä–æ—Å—É.\");\n      return;\n    }\n\n    renderImages(images);\n  } catch (error) {\n    iziToast.error({\n      title: \"–û—à–∏–±–∫–∞\",\n      message: \"–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â—ë —Ä–∞–∑.\",\n      position: \"topRight\",\n    });\n  }\n});\n\nexport function renderImages(images) {\n  gallery.innerHTML = \"\"; // –û—á–∏—â–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â–∏–π –ø–æ–∏—Å–∫\n\n  const markup = images\n    .map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => `\n      <div class=\"gallery-item\">\n        <a href=\"${largeImageURL}\" target=\"_blank\">\n          <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n        </a>\n        <div class=\"image-info\">\n          <p><strong>‚ù§Ô∏è ${likes}</strong></p>\n          <p><strong>üëÅÔ∏è ${views}</strong></p>\n          <p><strong>üí¨ ${comments}</strong></p>\n          <p><strong>‚¨áÔ∏è ${downloads}</strong></p>\n        </div>\n      </div>\n    `)\n    .join(\"\");\n\n  gallery.innerHTML = markup;\n  lightbox.refresh(); // –û–±–Ω–æ–≤–ª—è–µ–º SimpleLightbox –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π\n}\n\nexport function showErrorMessage(message) {\n  gallery.innerHTML = `\n    <p class=\"error-message\">${message || \"–ß—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞!\"}</p>\n  `;\n}\n"],"names":["API_KEY","BASE_URL","fetchImages","query","response","axios","error","gallery","form","lightbox","SimpleLightbox","event","iziToast","images","showErrorMessage","renderImages","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","message"],"mappings":"owBAEA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,eAAeC,EAAYC,EAAO,CACvC,GAAI,CACF,MAAMC,EAAW,MAAMC,EAAM,IAAIJ,EAAU,CACzC,OAAQ,CACN,IAAKD,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACb,CACP,CAAK,EAGD,OAAIC,EAAS,SAAW,IAElBA,EAAS,KAAK,KAAK,SAAW,GAChC,QAAQ,KAAK,wBAAwB,EAC9B,CAAE,GAEJA,EAAS,KAAK,MAErB,QAAQ,MAAM,sCAAuCA,EAAS,MAAM,EAC7D,CAAE,EAEZ,OAAQE,EAAO,CACd,eAAQ,MAAM,+BAAgCA,CAAK,EAC5C,CAAE,CACb,CACA,CCzBA,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAO,SAAS,cAAc,cAAc,EAE5CC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAChB,CAAC,EAEDF,EAAK,iBAAiB,SAAU,MAAMG,GAAS,CAC7CA,EAAM,eAAgB,EAEtB,MAAMR,EAAQQ,EAAM,OAAO,SAAS,YAAY,MAAM,KAAM,EAC5D,GAAI,CAACR,EAAO,CACVS,EAAS,QAAQ,CACf,MAAO,SACP,QAAS,4BACT,SAAU,UAChB,CAAK,EACD,MACJ,CAEE,GAAI,CACF,MAAMC,EAAS,MAAMX,EAAYC,CAAK,EAGtC,GAAIU,EAAO,SAAW,EAAG,CACvBC,EAAiB,qDAAqD,EACtE,MACN,CAEIC,EAAaF,CAAM,CACpB,MAAe,CACdD,EAAS,MAAM,CACb,MAAO,SACP,QAAS,wDACT,SAAU,UAChB,CAAK,CACL,CACA,CAAC,EAEM,SAASG,EAAaF,EAAQ,CACnCN,EAAQ,UAAY,GAEpB,MAAMS,EAASH,EACZ,IAAI,CAAC,CAAE,aAAAI,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,KAAgB;AAAA;AAAA,mBAEpEL,CAAa;AAAA,sBACVD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,0BAGtBC,CAAK;AAAA,2BACJC,CAAK;AAAA,0BACNC,CAAQ;AAAA,0BACRC,CAAS;AAAA;AAAA;AAAA,KAG9B,EACA,KAAK,EAAE,EAEVhB,EAAQ,UAAYS,EACpBP,EAAS,QAAO,CAClB,CAEO,SAASK,EAAiBU,EAAS,CACxCjB,EAAQ,UAAY;AAAA,+BACSiB,CAA+D;AAAA,GAE9F"}